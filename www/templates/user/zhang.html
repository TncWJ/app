<ion-view title="我的账单">
    <ion-content>
        <div class="content pad50 grey" id="main_box" ng-init="curBill='cur';">
            <div class="segmented-control ordertit">
                <a ng-class="curBill == 'cur' ? 'control-item active' : 'control-item'" href="#" ng-click="curBill ='cur';">
                    本期账单
                </a>
                <a ng-class="curBill == 'next' ? 'control-item active' : 'control-item'" href="#" ng-click="curBill ='next';">
                    下期账单
                </a>
                <a ng-class="curBill == 'paid' ? 'control-item active' : 'control-item'" href="#" ng-click="curBill ='paid';">
                    已还账单
                </a>
            </div>
            <div class="card orderlist">
                <div id="item1mobile" class="control-content active" ng-show="curBill == 'cur'">
                    <div ng-show="userBill.current_bill_list_count == 0">暂无账单信息！</div>
                    <ul class="table-view orderCon" ng-repeat="val in userBill.current_bill_list">
                        <li ng-repeat="v in val">
                            <div class="ordertop table-view-cell media">
                                <a class="navigate-right">
                                    <h3>{{v.order_title}}</h3>

                                    <div class="orderintro">
                                        <p>月供金额：{{v.month_amount|currency:'￥'}}</p>

                                        <p>本期待还：{{v.paid_amount|currency:'￥'}}</p>

                                        <p>还款到期日：{{v.pay_date}} 剩余{{v.left_days}}天</p>
                                    </div>
                                </a>
                            </div>
                            <div class="orderbot">
                                <a href="#" class="btn btn-orange2 btn-outlined"  ng-click="refund(v.detail_id , v.amount);">立即还款</a>
                                <!--<i class="btn btn-orange2 btn-outlined">取消订单</i>-->
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="item2mobile" class="control-content" ng-show="curBill == 'next'">
                    <div ng-show="userBill.next_bill_list_count == 0">暂无账单信息！</div>
                    <ul class="table-view orderCon" ng-repeat="val in userBill.next_bill_list">
                        <li ng-repeat="v in val">
                            <div class="ordertop table-view-cell media">
                                <a class="navigate-right">
                                    <h3>{{v.order_title}}</h3>

                                    <div class="orderintro">
                                        <p>月供金额：{{v.month_amount|currency:'￥'}}</p>

                                        <p>本期待还：{{v.paid_amount|currency:'￥'}}</p>

                                        <p>还款到期日：{{v.pay_date}} 剩余{{v.left_days}}天</p>
                                    </div>
                                </a>
                            </div>
                            <div class="orderbot">
                                <a href="#" class="btn btn-orange2 btn-outlined"  ng-click="refund(v.detail_id , v.amount);">立即还款</a>
                                <!--<i class="btn btn-orange2 btn-outlined">取消订单</i>-->
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="item3mobile" class="control-content" ng-show="curBill == 'paid'">
                    <div ng-show="userBill.paid_bill_list_count == 0">暂无账单信息！</div>
                    <ul class="table-view orderCon" ng-repeat="val in userBill.paid_bill_list">
                        <li ng-repeat="v in val">
                            <div class="ordertop table-view-cell media">
                                <a class="navigate-right">
                                    <h3>{{v.order_title}}</h3>

                                    <div class="orderintro">
                                        <p>月供金额：{{v.month_amount|currency:'￥'}}</p>

                                        <p>本期待还：{{v.paid_amount|currency:'￥'}}</p>

                                        <p>还款到期日：{{v.pay_date}} 剩余{{v.left_days}}天</p>
                                    </div>
                                </a>
                            </div>
                            <div class="orderbot">
                                <a href="#" class="btn btn-orange2 btn-outlined" ng-click="refund(v.detail_id , v.amount);">立即还款</a>
                                <!--<i class="btn btn-orange2 btn-outlined">取消订单</i>-->
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="pay_result" style="display: none;"></div>
        </div>
    </ion-content>
</ion-view>